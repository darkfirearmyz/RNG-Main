RMenu.Add(
    "corruptadminmenu",
    "mainmenu",
    RageUI.CreateMenu(
        "",
        "Name - PermID - TempID",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu:Get("corruptadminmenu", "mainmenu"):SetSubtitle("~b~Players")
RMenu.Add(
    "corruptadminmenu",
    "allplayers",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "closeplayers",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "staffmembers",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "criteriasearch",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "gpusearch",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "kdsearch",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "searchfilter",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "filterbyname",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "filterbytemp",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "filterbyperm",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "searchhistory",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "settings",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "playermenu",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Player Interaction Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "functions",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Functions Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "communitypot",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Community Pot",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "groups",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Groups Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "addgroup",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Groups Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "removegroup",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Admin Groups Menu",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "banreasonmenu",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Select Ban Reason(s)",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "confirmban",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Confirm Ban",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "playernotesmenu",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "mainmenu"),
        "",
        "~b~Player Notes",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
RMenu.Add(
    "corruptadminmenu",
    "previewplayernotes",
    RageUI.CreateSubMenu(
        RMenu:Get("corruptadminmenu", "playermenu"),
        "",
        "~b~Player Notes",
        CORRUPT.getRageUIMenuWidth(),
        CORRUPT.getRageUIMenuHeight(),
        "corrupt_adminui",
        "corrupt_adminui"
    )
)
local a = 0
local b = "none"
local c = nil
local d = nil
local e = nil
local f = nil
local g = nil
local videosQueued = 0
local i
local j = {}
local k = 1
local l = {
    ["pov"] = "Must Provide POV",
        ["Supporter"] = "Supporter",
        ["Premium"] = "Premium",
        ["Supreme"] = "Supreme",
        ["Kingpin"] = "King Pin",
        ["Rainmaker"] = "Rainmaker",
        ["Baller"] = "Baller",
        ["pov"] = "POV List",
        ["Copper"] = "Copper License",
        ["Weed"] = "Weed License",
        ["Limestone"] = "Limestone License",
        ["Gang"] = "Gang License",
        ["Cocaine"] = "Cocaine License",
        ["Meth"] = "Meth License",
        ["Heroin"] = "Heroin License",
        ["LSD"] = "LSD License",
        ["Rebel"] = "Rebel License",
        ["AdvancedRebel"] = "Advanced Rebel License",
        ["Gold"] = "Gold License",
        ["Diamond"] = "Diamond License",
        ["DJ"] = "DJ License",
        ["PilotLicense"] = "Pilot License",
        ["polblips"] = "Long Range Emergency Blips",
        ["Highroller"] = "Highrollers License",
        ["Royal Mail Driver"] = "Royal Mail Driver",
        ["AA Mechanic"] = "AA Mechanic",
        ["Bus Driver"] = "Bus Driver",
        ["Deliveroo"] = "Deliveroo",
        ["Scuba Diver"] = "Scuba Diver",
        ["G4S Driver"] = "G4S Driver",
        ["Taco Seller"] = "Taco Seller",
        ["Cinematic"] = "Cinematic Menu"
}
local m = {}
local n
local o = {}
local p = {}
local q = ""
local kd = nil
local r = {
    {
        id = "trolling",
        name = "1.0 Trolling",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "trollingminor",
        name = "1.0 Trolling (Minor)",
        desc = "1st Offense: 2hr\n2nd Offense: 12hr\n3rd Offense: 24hr",
        selected = false
    },
    {
        id = "metagaming",
        name = "1.1 Metagaming",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "powergaming",
        name = "1.2 Power Gaming ",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "failrp",
        name = "1.3 Fail RP",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {id = "rdm", name = "1.4 RDM", desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr", selected = false},
    {
        id = "massrdm",
        name = "1.4.1 Mass RDM",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "nrti",
        name = "1.5 No Reason to Initiate (NRTI) ",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {id = "vdm", name = "1.6 VDM", desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr", selected = false},
    {
        id = "massvdm",
        name = "1.6.1 Mass VDM",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "offlanguageminor",
        name = "1.7 Offensive Language/Toxicity (Minor)",
        desc = "1st Offense: 2hr\n2nd Offense: 24hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "offlanguagestandard",
        name = "1.7 Offensive Language/Toxicity (Standard)",
        desc = "1st Offense: 48hr\n2nd Offense: 72hr\n3rd Offense: 168hr",
        selected = false
    },
    {
        id = "offlanguagesevere",
        name = "1.7 Offensive Language/Toxicity (Severe)",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "breakrp",
        name = "1.8 Breaking Character",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "combatlog",
        name = "1.9 Combat logging",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "combatstore",
        name = "1.10 Combat storing",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "exploitingstandard",
        name = "1.11 Exploiting (Standard)",
        desc = "1st Offense: 24hr\n2nd 48hr\n3rd 72hr",
        selected = false
    },
    {
        id = "exploitingsevere",
        name = "1.11 Exploiting (Severe)",
        desc = "1st Offense: 168hr\n2nd Permanent\n3rd N/A",
        selected = false
    },
    {
        id = "oogt",
        name = "1.12 Out of game transactions (OOGT)",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "spitereport",
        name = "1.13 Spite Reports ",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 168hr",
        selected = false
    },
    {
        id = "scamming",
        name = "1.14 Scamming",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "loans",
        name = "1.15 Loans",
        desc = "1st Offense: 48hr\n2nd Offense: 168hr\n3rd Offense: Permanent",
        selected = false
    },
    {
        id = "wastingadmintime",
        name = "1.16 Wasting Admin Time",
        desc = "1st Offense: 2hr\n2nd Offense: 12hr\n3rd Offense: 24hr",
        selected = false
    },
    {
        id = "ftvl",
        name = "2.1 Value of Life",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "sexualrp",
        name = "2.2 Sexual RP",
        desc = "1st Offense: 168hr\n2nd Offense: Permanent\n3rd N/A",
        selected = false
    },
    {
        id = "terrorrp",
        name = "2.3 Terrorist RP",
        desc = "1st Offense: 168hr\n2nd Offense: Permanent\n3rd N/A",
        selected = false
    },
    {
        id = "impwhitelisted",
        name = "2.4 Impersonation of Whitelisted Factions",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "gtadriving",
        name = "2.5 GTA Online Driving",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {id = "nlr", name = "2.6 NLR", desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr", selected = false},
    {
        id = "badrp",
        name = "2.7 Bad RP",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "kidnapping",
        name = "2.8 Kidnapping",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "stealingems",
        name = "3.0 Theft of Emergency Vehicles",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "whitelistabusestandard",
        name = "3.1 Whitelist Abuse",
        desc = "1st Offense: 24hr\n2nd Offense: 72hr\n3rd 168hr",
        selected = false
    },
    {
        id = "whitelistabusesevere",
        name = "3.1 Whitelist Abuse",
        desc = "1st Offense: 168hr\n2nd Offense: Permanent\n3rd N/A",
        selected = false
    },
    {
        id = "copbaiting",
        name = "3.2 Cop Baiting",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "pdkidnapping",
        name = "3.3 PD Kidnapping",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "unrealisticrevival",
        name = "3.4 Unrealistic Revival",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "interjectingrobbery",
        name = "Interjection of Robberies",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "interjectingrp",
        name = "Interjection of RP",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "combatrev",
        name = "3.5 Combat Reviving",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "gangcap",
        name = "3.6 Gang Cap",
        desc = "1st Offense: 24hr\n2nd Offense: 72hr\n3rd Offense: 168h",
        selected = false
    },
    {
        id = "maxgang",
        name = "3.7 Max Gang Numbers",
        desc = "1st Offense: 24hr\n2nd Offense: 72hr\n3rd Offense: 168h",
        selected = false
    },
    {
        id = "gangalliance",
        name = "3.8 Gang Alliance",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "impgang",
        name = "3.10 Impersonation of Gangs",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "gzstealing",
        name = "4.1 Stealing Vehicles in Greenzone",
        desc = "1st Offense: 2hr\n2nd Offense: 12hr\n3rd Offense: 24hr",
        selected = false
    },
    {
        id = "gzillegal",
        name = "4.2 Selling Illegal Items in Greenzone",
        desc = "1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",
        selected = false
    },
    {
        id = "gzretretreating",
        name = "4.3 Greenzone Retreating ",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "rzhostage",
        name = "4.5 Taking Hostage into Redzone",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "rzretreating",
        name = "4.6 Redzone Retreating",
        desc = "1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",
        selected = false
    },
    {
        id = "advert",
        name = "1.1 Advertising",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "bullying",
        name = "1.2 Bullying",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "impersonationrule",
        name = "1.3 Impersonation",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "language",
        name = "1.4 Language",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "discrim",
        name = "1.5 Discrimination ",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "attacks",
        name = "1.6 Malicious Attacks ",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "PIIstandard",
        name = "1.7 PII (Personally Identifiable Information)(Standard)",
        desc = "1st Offense: 168hr\n2nd Offense: Permanent\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "PIIsevere",
        name = "1.7 PII (Personally Identifiable Information)(Severe)",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "chargeback",
        name = "1.8 Chargeback",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "discretion",
        name = "1.9 Staff Discretion",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "cheating",
        name = "1.10 Cheating",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "banevading",
        name = "1.11 Ban Evading",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "fivemcheats",
        name = "1.12 Withholding/Storing FiveM Cheats",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "altaccount",
        name = "1.13 Multi-Accounting",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "association",
        name = "1.14 Association with External Modifications",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "pov",
        name = "1.15 Failure to provide POV ",
        desc = "1st Offense: 2hr\n2nd Offense: Permanent\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "withholdinginfostandard",
        name = "1.16 Withholding Information From Staff (Standard)",
        desc = "1st Offense: 48hr\n2nd Offense: 72hr\n3rd Offense: 168hr",
        selected = false
    },
    {
        id = "withholdinginfosevere",
        name = "1.16 Withholding Information From Staff (Severe)",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    },
    {
        id = "blackmail",
        name = "1.17 Blackmailing",
        desc = "1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",
        selected = false
    }
}
local s = {
    "PD (Mission Row)",
    "PD (Sandy)",
    "PD (Paleto)",
    "City Hall",
    "Airport",
    "HMP",
    "Rebel Diner",
    "St Thomas",
    "Tutorial Spawn"
}
local t = {
    vector3(446.72503662109, -982.44342041016, 30.68931579589),
    vector3(1839.3137207031, 3671.0014648438, 34.310436248779),
    vector3(-437.32931518555, 6021.2114257813, 31.490119934082),
    vector3(-551.08221435547, -194.19259643555, 38.219661712646),
    vector3(-1142.0673828125, -2851.802734375, 13.94624710083),
    vector3(1848.2724609375, 2586.7385253906, 45.671997070313),
    vector3(1588.3441162109, 6439.3696289063, 25.123600006104),
    vector3(283.37664794922, -579.45318603516, 43.219303131104),
    vector3(-1031.0992431641, -2727.9765625, 13.740306854248)
}
local u = {"Default", "25", "50", "100", "250", "500", "Custom"}
local v = 1
local w = {}
local x = 0
local y = {"Mosins", "POV List", "Cinematic", "Police", "NHS", "New Player"}
local z = 1
local A = {}
local GPU = {}
local KD = {}
local communityPot = '0'
local B = false
local C = false
RegisterNetEvent(
    "CORRUPT:sendAdminperks",
    function(D, E)
        TriggerServerEvent("CORRUPT:verifyAdminPerks", D)
        a = D
        b = E
    end
)
function CORRUPT.getStaffLevel()
    return a
end
function CORRUPT.getStaffRank()
    return b
end
local function F()
    local G = CORRUPT.getPlayerNameDistance()
    if G == 7.0 then
        return 1
    else
        for H, I in pairs(u) do
            local J = tonumber(I)
            if J and J == math.floor(G) then
                return H
            end
        end
    end
    return #u
end
RegisterNetEvent("CORRUPT:setVideoRequestQueueCount",function(K, L)
    if c == K then
        videosQueued = L
    end
end)
RageUI.CreateWhile(1.0,RMenu:Get("corruptadminmenu", "mainmenu"),nil,function()
        if CORRUPT.getStaffLevel() > 0 then
            RageUI.IsVisible(RMenu:Get("corruptadminmenu", "mainmenu"),true,true,true,function()
                    f = nil
                    g = nil
                    RageUI.ButtonWithStyle(
                        "All Players",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("corruptadminmenu", "allplayers")
                    )
                    RageUI.ButtonWithStyle(
                        "Nearby Players",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("corruptadminmenu", "closeplayers")
                    )
                    RageUI.ButtonWithStyle(
                        "Staff Members",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("corruptadminmenu", "staffmembers")
                    )
                    RageUI.ButtonWithStyle(
                        "Search Players",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("corruptadminmenu", "searchfilter")
                    )
                    RageUI.ButtonWithStyle(
                        "Functions",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("corruptadminmenu", "functions")
                    )
                    RageUI.ButtonWithStyle(
                        "Settings",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("settingsmenu", "settings")
                    )
                end,function()
            end)
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "closeplayers"),
                true,
                true,
                true,
                function()
                    local P = GetEntityCoords(CORRUPT.getPlayerPed())
                    if CORRUPT.isInSpectate() then
                        P = GetFinalRenderedCamCoord()
                    end
                    for Q, R in ipairs(sortedFullPlayerListData) do
                        if R ~= "_meta" and not CORRUPT.isUserHidden(R) then
                            if fullPlayerListData[R][1] ~= nil then
                                playerSrc = fullPlayerListData[R][1]
                            else
                                playerSrc = 0
                            end
                            local S = GetPlayerFromServerId(playerSrc)
                            local T = GetPlayerPed(S)
                            local U = GetEntityCoords(T)
                            local V = #(U - P)
                            if S ~= -1 and V < 100.0 and not w[playerSrc] then
                                if fullPlayerListData[R][2] ~= nil then
                                    name = fullPlayerListData[R][2]
                                else
                                    name = "Error"
                                end
                                local W = 0
                                if fullPlayerListData[R][4] ~= nil then
                                    W = fullPlayerListData[R][4]
                                else
                                    W = "N/A"
                                end
                                RageUI.ButtonWithStyle(
                                    name .. " [" .. tostring(playerSrc) .. "]",
                                    tostring(name) ..
                                        " (" ..
                                            W .. " hours) PermID: " .. tostring(R) .. " TempID: " .. tostring(playerSrc),
                                    {RightLabel = "→→→"},
                                    true,
                                    function(M, N, O)
                                        if N then
                                            local K = GetPlayerFromServerId(playerSrc)
                                            if K ~= -1 then
                                                local X = GetPlayerPed(K)
                                                if X ~= 0 and X ~= CORRUPT.getPlayerPed() then
                                                    local Y = GetEntityCoords(X, true)
                                                    DrawMarker(
                                                        2,
                                                        Y.x,
                                                        Y.y,
                                                        Y.z + 1.1,
                                                        0.0,
                                                        0.0,
                                                        0.0,
                                                        0.0,
                                                        -180.0,
                                                        0.0,
                                                        0.4,
                                                        0.4,
                                                        0.4,
                                                        255,
                                                        255,
                                                        0,
                                                        125,
                                                        false,
                                                        true,
                                                        2,
                                                        false,
                                                        nil,
                                                        nil,
                                                        false
                                                    )
                                                end
                                            end
                                        end
                                        if O then
                                            c = R
                                            d = playerSrc
                                            e = name
                                            TriggerServerEvent("CORRUPT:getGroups", c)
                                        end
                                    end,
                                    RMenu:Get("corruptadminmenu", "playermenu")
                                )
                            end
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(RMenu:Get("corruptadminmenu", "staffmembers"),true,
                true,
                true,
                function()
                    for Q, Z in ipairs(sortedFullPlayerListData) do
                        if Z ~= "meta" and not CORRUPT.isUserHidden(Z) then
                            local _ = fullPlayerListData[Z]
                            if _ and _[5] then
                                local playerSrc = 0
                                if _[1] then
                                    playerSrc = _[1]
                                end
                                local name = "Error"
                                if _[2] then
                                    name = _[2]
                                end
                                local W = "N/A"
                                if _[4] then
                                    W = _[4]
                                end
                                RageUI.ButtonWithStyle(
                                    name .. " [" .. tostring(playerSrc) .. "]",
                                    tostring(name) ..
                                        " (" ..
                                            W .. " hours) PermID: " .. tostring(Z) .. " TempID: " .. tostring(playerSrc),
                                    {RightLabel = "→→→"},
                                    true,
                                    function(M, N, O)
                                        if O then
                                            c = Z
                                            d = playerSrc
                                            e = name
                                            TriggerServerEvent("CORRUPT:getGroups", c)
                                        end
                                    end,
                                    RMenu:Get("corruptadminmenu", "playermenu")
                                )
                            end
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "criteriasearch"),
                true,
                true,
                true,
                function()
                    if next(A) then
                        for Q, Z in pairs(A) do
                            local _ = fullPlayerListData[Z]
                            if _ then
                                local playerSrc = 0
                                if _[1] then
                                    playerSrc = _[1]
                                end
                                local name = "Error"
                                if _[2] then
                                    name = _[2]
                                end
                                local W = "N/A"
                                if _[4] then
                                    W = _[4]
                                end
                                RageUI.ButtonWithStyle(
                                    name .. " [" .. tostring(playerSrc) .. "]",
                                    tostring(name) ..
                                    " (" .. W .. " hours) PermID: " .. tostring(Z) .. " TempID: " .. tostring(playerSrc),
                                    {RightLabel = "→→→"},
                                    true,
                                    function(M, N, O)
                                        if O then
                                            c = Z
                                            d = playerSrc
                                            e = name
                                            TriggerServerEvent("CORRUPT:getGroups", c)
                                        end
                                    end,
                                    RMenu:Get("corruptadminmenu", "playermenu")
                                )
                            end
                        end
                    else
                        RageUI.Separator("~r~No players found with that criteria")
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "gpusearch"),
                true,
                true,
                true,
                function()
                    if next(GPU) then
                        for Q, Z in pairs(GPU) do
                            local _ = fullPlayerListData[Z]
                            if _ then
                                local playerSrc = 0
                                if _[1] then
                                    playerSrc = _[1]
                                end
                                local name = "Error"
                                if _[2] then
                                    name = _[2]
                                end
                                local W = "N/A"
                                if _[4] then
                                    W = _[4]
                                end
                                RageUI.ButtonWithStyle(
                                    name .. " [" .. tostring(playerSrc) .. "]",
                                    tostring(name) ..
                                    " (" .. W .. " hours) PermID: " .. tostring(Z) .. " TempID: " .. tostring(playerSrc),
                                    {RightLabel = "→→→"},
                                    true,
                                    function(M, N, O)
                                        if O then
                                            c = Z
                                            d = playerSrc
                                            e = name
                                            TriggerServerEvent("CORRUPT:getGroups", c)
                                        end
                                    end,
                                    RMenu:Get("corruptadminmenu", "playermenu")
                                )
                            end
                        end
                    else
                        RageUI.Separator("~r~No players found with that GPU")
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "kdsearch"),
                true,
                true,
                true,
                function()
                    if next(KD) then
                        for Q, Z in pairs(KD) do
                            local _ = fullPlayerListData[Z]
                            if _ then
                                local playerSrc = 0
                                if _[1] then
                                    playerSrc = _[1]
                                end
                                local name = "Error"
                                if _[2] then
                                    name = _[2]
                                end
                                local W = "N/A"
                                if _[4] then
                                    W = _[4]
                                end
                                RageUI.ButtonWithStyle(
                                    name .. " [" .. tostring(playerSrc) .. "]",
                                    tostring(name) ..
                                    " (" .. W .. " hours) PermID: " .. tostring(Z) .. " TempID: " .. tostring(playerSrc),
                                    {RightLabel = "→→→"},
                                    true,
                                    function(M, N, O)
                                        if O then
                                            c = Z
                                            d = playerSrc
                                            e = name
                                            TriggerServerEvent("CORRUPT:getGroups", c)
                                        end
                                    end,
                                    RMenu:Get("corruptadminmenu", "playermenu")
                                )
                            end
                        end
                    else
                        RageUI.Separator("~r~No players found with that KD")
                    end
                end,
                function()
                end
            )            
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "searchfilter"),
                true,
                true,
                true,
                function()
                    RageUI.ButtonWithStyle(
                        "Search by Name",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                i = getSearchField("Name")
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "filterbyname")
                    )
                    RageUI.ButtonWithStyle(
                        "Search by Temp ID",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                i = getSearchField("Temp ID")
                                j[k] = i
                                k = k + 1
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "filterbytemp")
                    )
                    RageUI.ButtonWithStyle(
                        "Search by Perm ID",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                i = getSearchField("Perm ID")
                                j[k] = i
                                k = k + 1
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "filterbyperm")
                    )
                    RageUI.List(
                        "Search By Criteria",
                        y,
                        z,
                        "",
                        {},
                        true,
                        function(M, N, O, a0)
                            if a0 ~= z then
                                z = a0
                            elseif O then
                                TriggerServerEvent("CORRUPT:searchByCriteria", y[z])
                            end
                        end
                    )
                    RageUI.ButtonWithStyle(
                        "Search by KD",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                i = getSearchField("KD")
                                TriggerServerEvent("CORRUPT:searchByKD", i)
                            end
                        end
                    )
                    RageUI.ButtonWithStyle(
                        "Search by GPU",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                i = getSearchField("GPU")
                                TriggerServerEvent("CORRUPT:searchByGPU", i)
                            end
                        end
                    )
                    RageUI.ButtonWithStyle(
                        "Search History",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                        end,
                        RMenu:Get("corruptadminmenu", "searchhistory")
                    )
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "allplayers"),
                true,
                true,
                true,
                function()
                    for Q, R in ipairs(sortedFullPlayerListData) do
                        if R ~= "_meta" and not CORRUPT.isUserHidden(R) then
                            if fullPlayerListData[R][1] ~= nil then
                                playerSrc = fullPlayerListData[R][1]
                            else
                                playersrc = 0
                            end
                            if fullPlayerListData[R][2] ~= nil then
                                name = fullPlayerListData[R][2]
                            else
                                name = "Error"
                            end
                            local W = 0
                            if fullPlayerListData[R][4] ~= nil then
                                W = fullPlayerListData[R][4]
                            else
                                W = "N/A"
                            end
                            RageUI.ButtonWithStyle(
                                name .. " [" .. tostring(playerSrc) .. "]",
                                tostring(name) ..
                                    " (" .. W .. " hours) PermID: " .. tostring(R) .. " TempID: " .. tostring(playerSrc),
                                {RightLabel = "→→→"},
                                true,
                                function(M, N, O)
                                    if O then
                                        c = R
                                        d = playerSrc
                                        e = name
                                        TriggerServerEvent("CORRUPT:getGroups", c)
                                    end
                                end,
                                RMenu:Get("corruptadminmenu", "playermenu")
                            )
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "filterbyname"),
                true,
                true,
                true,
                function()
                    for Q, R in ipairs(sortedFullPlayerListData) do
                        if R ~= "_meta" and not CORRUPT.isUserHidden(R) then
                            if fullPlayerListData[R][1] ~= nil then
                                playerSrc = fullPlayerListData[R][1]
                            else
                                playersrc = 0
                            end
                            if fullPlayerListData[R][2] ~= nil then
                                name = fullPlayerListData[R][2]
                            else
                                name = "Error"
                            end
                            local W = 0
                            if fullPlayerListData[R][4] ~= nil then
                                W = fullPlayerListData[R][4]
                            else
                                W = "N/A"
                            end
                            if i then
                                if string.match(string.lower(name), string.lower(i)) then
                                    RageUI.ButtonWithStyle(
                                        name .. " [" .. tostring(playerSrc) .. "]",
                                        tostring(name) ..
                                            " (" ..
                                                W ..
                                                    " hours) PermID: " ..
                                                        tostring(R) .. " TempID: " .. tostring(playerSrc),
                                        {RightLabel = "→→→"},
                                        true,
                                        function(M, N, O)
                                            if O then
                                                c = R
                                                d = playerSrc
                                                e = name
                                                TriggerServerEvent("CORRUPT:getGroups", c)
                                            end
                                        end,
                                        RMenu:Get("corruptadminmenu", "playermenu")
                                    )
                                else
                                    RageUI.Separator("~r~No players found with that name")
                                end
                            end
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "filterbytemp"),
                true,
                true,
                true,
                function()
                    for Q, R in ipairs(sortedFullPlayerListData) do
                        if R ~= "_meta" and not CORRUPT.isUserHidden(R) then
                            if fullPlayerListData[R][1] ~= nil then
                                playerSrc = fullPlayerListData[R][1]
                            else
                                playerSrc = 0
                            end
                            if fullPlayerListData[R][2] ~= nil then
                                name = fullPlayerListData[R][2]
                            else
                                name = "Error"
                            end
                            local W = 0
                            if fullPlayerListData[R][4] ~= nil then
                                W = fullPlayerListData[R][4]
                            else
                                W = "N/A"
                            end
                            if i then
                                if tonumber(i) == playerSrc then
                                    RageUI.ButtonWithStyle(
                                        name .. " [" .. tostring(playerSrc) .. "]",
                                        tostring(name) ..
                                            " (" ..
                                                W ..
                                                    " hours) PermID: " ..
                                                        tostring(R) .. " TempID: " .. tostring(playerSrc),
                                        {RightLabel = "→→→"},
                                        true,
                                        function(M, N, O)
                                            if O then
                                                c = R
                                                d = playerSrc
                                                e = name
                                                TriggerServerEvent("CORRUPT:getGroups", c)
                                            end
                                        end,
                                        RMenu:Get("corruptadminmenu", "playermenu")
                                    )
                                else
                                    RageUI.Separator("~r~No players found with that Temp ID")
                                end
                            end
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "filterbyperm"),
                true,
                true,
                true,
                function()
                    for Q, R in ipairs(sortedFullPlayerListData) do
                        if R ~= "_meta" and not CORRUPT.isUserHidden(R) then
                            if fullPlayerListData[R][1] ~= nil then
                                playerSrc = fullPlayerListData[R][1]
                            else
                                playersrc = 0
                            end
                            if fullPlayerListData[R][2] ~= nil then
                                name = fullPlayerListData[R][2]
                            else
                                name = "Error"
                            end
                            local W = 0
                            if fullPlayerListData[R][4] ~= nil then
                                W = fullPlayerListData[R][4]
                            else
                                W = "N/A"
                            end
                            if i then
                                if tonumber(i) == R then
                                    RageUI.ButtonWithStyle(
                                        name .. " [" .. tostring(playerSrc) .. "]",
                                        tostring(name) ..
                                            " (" ..
                                                W ..
                                                    " hours) PermID: " ..
                                                        tostring(R) .. " TempID: " .. tostring(playerSrc),
                                        {RightLabel = "→→→"},
                                        true,
                                        function(M, N, O)
                                            if O then
                                                c = R
                                                d = playerSrc
                                                e = name
                                                TriggerServerEvent("CORRUPT:getGroups", c)
                                            end
                                        end,
                                        RMenu:Get("corruptadminmenu", "playermenu")
                                    )
                                else
                                    RageUI.Separator("~r~No players found with that Perm ID")
                                end
                            end
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "searchhistory"),
                true,
                true,
                true,
                function()
                    for Q, R in ipairs(sortedFullPlayerListData) do
                        if R ~= "_meta" and not CORRUPT.isUserHidden(R) then
                            if fullPlayerListData[R][1] ~= nil then
                                playerSrc = fullPlayerListData[R][1]
                            else
                                playersrc = 0
                            end
                            if fullPlayerListData[R][2] ~= nil then
                                name = fullPlayerListData[R][2]
                            else
                                name = "Error"
                            end
                            local W = 0
                            if fullPlayerListData[R][4] ~= nil then
                                W = fullPlayerListData[R][4]
                            else
                                W = "N/A"
                            end
                            if k > 1 then
                                for a1 = #j, #j - 10, -1 do
                                    if j[a1] then
                                        if tonumber(j[a1]) == R then
                                            RageUI.ButtonWithStyle(
                                                name .. " [" .. tostring(playerSrc) .. "]",
                                                tostring(name) ..
                                                    " (" ..
                                                        W ..
                                                            " hours) PermID: " ..
                                                                tostring(R) .. " TempID: " .. tostring(playerSrc),
                                                {RightLabel = "→→→"},
                                                true,
                                                function(M, N, O)
                                                    if O then
                                                        c = R
                                                        d = playerSrc
                                                        e = name
                                                        TriggerServerEvent("CORRUPT:getGroups", c)
                                                        videosQueued = 0
                                                    end
                                                end,
                                                RMenu:Get("corruptadminmenu", "playermenu")
                                            )
                                        end
                                    end
                                end
                            end
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(RMenu:Get("corruptadminmenu", "playermenu"),true,true,true,function()
                    if CORRUPT.isUserHidden(c) then
                        RageUI.CloseAll()
                        return
                    end
                    if f == nil then
                        RageUI.Separator("~y~Player must provide POV on request: Loading...")
                    elseif f == true then
                        RageUI.Separator("~y~Player must provide POV on request: ~g~true")
                    elseif f == false then
                        RageUI.Separator("~y~Player must provide POV on request: ~r~false")
                    end
                    if kd ~= nil then
                        RageUI.Separator((kd.kills or 0) .. " Kills / " .. (kd.deaths or 0) .. " Deaths (" .. (kd.kdratio or 0.0) .. " KD)")
                    else
                        RageUI.Separator("0 Kills / 0 Deaths (0.0 KD)")
                    end
                    RageUI.ButtonWithStyle(
                        "Player Notes",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:getPlayerNotes", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playernotesmenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Kick Player",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                local a2 = getGenericTextInput("Kick reason")
                                TriggerServerEvent("CORRUPT:kickPlayer", c, a2)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    if CORRUPT.getStaffLevel() >= 2 then
                        RageUI.ButtonWithStyle(
                            "Ban Player",
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    o = {}
                                    p = {}
                                    for a1 = 1, #r, 1 do
                                        local a3 = r[a1]
                                        a3.selected = false
                                    end
                                    q = nil
                                    TriggerServerEvent("CORRUPT:getPlayerNotes", c)
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "previewplayernotes")
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 3 then
                        RageUI.ButtonWithStyle(
                            "Spectate Player",
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    if d ~= GetPlayerServerId(PlayerId()) then
                                        TriggerServerEvent("CORRUPT:spectatePlayer", c)
                                        inSpectatorAdminMode = true
                                        RageUI.Text({message = string.format("~r~Press [E] to stop spectating.")})
                                    else
                                        notify("~r~You can not spectate yourself")
                                    end
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "playermenu")
                        )
                        RageUI.ButtonWithStyle(
                            "Revive",
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:revivePlayer", c)
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "playermenu")
                        )
                    end
                    RageUI.ButtonWithStyle(
                        "Teleport To Player",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:teleportToPlayer", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Teleport Player To Me",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:teleportToPlayerToMe", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Teleport to Admin Zone",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:teleportToAdminZone", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Teleport Back from Admin Zone",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:teleportBackFromAdminZone", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Teleport to Legion",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:teleportToLegion", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Freeze Player",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:freezePlayer", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    if CORRUPT.getStaffLevel() >= 3 then
                        RageUI.ButtonWithStyle(
                            "Slap Player",
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:slapPlayer", c)
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "playermenu")
                        )
                        RageUI.ButtonWithStyle(
                            "Force Clock off",
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:forceClockOff", c)
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "playermenu")
                        )
                    end
                    RageUI.ButtonWithStyle(
                        "Open F10 Warning Log",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                ExecuteCommand("sw " .. c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Take Screenshot",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:RequestScreenshot", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playermenu")
                    )
                    if CORRUPT.getStaffLevel() >= 4 then
                        local a4 = {RightLabel = "→→→"}
                        if videosQueued > 0 then
                            a4 = {RightLabel = tostring(videosQueued) .. " Queued"}
                        end
                        RageUI.ButtonWithStyle(
                            "Take Video",
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                            a4,
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent('CORRUPT:RequestVideo', c)
                                    TriggerServerEvent('CORRUPT:getVideoRequestQueueCount', c)
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "playermenu")
                        )
                    end
                    RageUI.ButtonWithStyle(
                        "See Groups",
                        "~r~This is managment+ ~w~Name: " ..
                            tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:getGroups", c)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "groups")
                    )
                    if CORRUPT.isDeveloper() then
                        RageUI.ButtonWithStyle("Manage Player Information",  tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d), {RightLabel = "→→→"}, true, function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:getUserinformation", c)
                            end
                        end,RMenu:Get("corruptadminmenu", "playermenu"))
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "functions"),
                true,
                true,
                true,
                function()
                    if CORRUPT.getStaffLevel() >= 1 then
                        RageUI.ButtonWithStyle(
                            "Get Coords",
                            nil,
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:getCoords")
                                end
                            end
                        )
                        RageUI.List(
                            "Teleport",
                            s,
                            v,
                            nil,
                            {},
                            true,
                            function(M, N, O, a0)
                                v = a0
                                if O then
                                    CORRUPT.teleport2(t[v], true)
                                end
                            end,
                            function()
                            end
                        )
                        RageUI.Checkbox(
                            "Hide Admin Chat",
                            "",
                            B,
                            {},
                            function(M, N, O, a5)
                                if O then
                                    B = a5
                                    TriggerServerEvent("CORRUPT:setAdminChatHidden", a5)
                                end
                            end
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 4 then
                        RageUI.ButtonWithStyle(
                            "TP To Coords",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:tpToCoords")
                                end
                            end
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 2 then
                        RageUI.ButtonWithStyle(
                            "Offline Ban",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    o = {}
                                    p = {}
                                    for a1 = 1, #r, 1 do
                                        local a3 = r[a1]
                                        a3.selected = false
                                    end
                                    c = tonumber(getSearchField("Perm ID"))
                                    q = nil
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "banreasonmenu")
                        )
                        RageUI.List(
                            "Far Ids",
                            u,
                            F(),
                            "",
                            {},
                            true,
                            function(M, N, O, a0)
                                if F() ~= a0 then
                                    local I = u[a0]
                                    if not tvRP.isStaffedOn() then
                                        notify("~r~You are not staffed on.")
                                    elseif I == "Default" then
                                        CORRUPT.setPlayerNameDistance(-1)
                                    elseif I ~= "Custom" then
                                        CORRUPT.setPlayerNameDistance(tonumber(I) + 0.0)
                                    end
                                end
                            end,
                            function()
                            end,
                            nil
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 4 then
                        RageUI.ButtonWithStyle(
                            "TP To Waypoint",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:tpToWaypoint")
                                end
                            end
                        )
                        RageUI.ButtonWithStyle(
                            "Unban",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:unban")
                                end
                            end
                        )
                        RageUI.ButtonWithStyle(
                            "Spawn Taxi",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O and GetGameTimer() - x > 5000 then
                                    x = GetGameTimer()
                                    local P = GetEntityCoords(CORRUPT.getPlayerPed())
                                    CORRUPT.spawnVehicle(
                                        "taxi",
                                        P.x,
                                        P.y,
                                        P.z,
                                        GetEntityHeading(CORRUPT.getPlayerPed()),
                                        true,
                                        true,
                                        true
                                    )
                                end
                            end
                        )
                        RageUI.ButtonWithStyle(
                            "Revive All Nearby",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    local P = CORRUPT.getPlayerCoords()
                                    for Q, a6 in pairs(GetActivePlayers()) do
                                        local a7 = GetPlayerServerId(a6)
                                        local X = GetPlayerPed(a6)
                                        if a7 ~= -1 and X ~= 0 then
                                            local a8 = GetEntityCoords(X, true)
                                            if #(P - a8) < 50.0 then
                                                local Z = CORRUPT.clientGetUserIdFromSource(a7)
                                                if Z > 0 then
                                                    TriggerServerEvent("CORRUPT:revivePlayer", Z)
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 5 then
                        RageUI.ButtonWithStyle(
                            "Remove Warning",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:removeF10")
                                end
                            end
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 6 then
                        local a9 = ""
                        if CORRUPT.hasStaffBlips() then
                            a9 = "~r~Turn off blips"
                        else
                            a9 = "~g~Turn on blips"
                        end
                        RageUI.ButtonWithStyle(
                            "Toggle Blips",
                            a9,
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:showBlips", not CORRUPT.hasStaffBlips())
                                end
                            end
                        )
                        RageUI.ButtonWithStyle(
                            "Community Pot Menu",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:getCommunityPotAmount")
                                end
                            end,
                            RMenu:Get("corruptadminmenu", "communitypot")
                        )
                    end
                    if CORRUPT.getStaffLevel() >= 6 or C then
                        RageUI.ButtonWithStyle(
                            "RP Zones",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                            end,
                            RMenu:Get("rpzones", "mainmenu")
                        )
                    end
                    if CORRUPT.isDeveloper(CORRUPT.getUserId()) then
                        RageUI.Checkbox(
                            "Set Globally Hidden",
                            "",
                            CORRUPT.isLocalPlayerHidden(),
                            {},
                            function()
                            end,
                            function()
                                TriggerServerEvent("CORRUPT:setUserHidden", true)
                            end,
                            function()
                                TriggerServerEvent("CORRUPT:setUserHidden", false)
                            end
                        )
                        RageUI.ButtonWithStyle(
                            "Add Car",
                            "",
                            {RightLabel = "→→→"},
                            true,
                            function(M, N, O)
                                if O then
                                    TriggerServerEvent("CORRUPT:addCar")
                                end
                            end
                        )
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "groups"),
                true,
                true,
                true,
                function()
                    for R, aa in pairs(l) do
                        if m[R] then
                            RageUI.ButtonWithStyle(
                                "~g~" .. aa,
                                "~g~User has this group.",
                                {RightLabel = "→→→"},
                                true,
                                function(M, N, O)
                                    if O then
                                        n = R
                                    end
                                end,
                                RMenu:Get("corruptadminmenu", "removegroup")
                            )
                        else
                            RageUI.ButtonWithStyle(
                                "~r~" .. aa,
                                "~r~User does not have this group.",
                                {RightLabel = "→→→"},
                                true,
                                function(M, N, O)
                                    if O then
                                        n = R
                                    end
                                end,
                                RMenu:Get("corruptadminmenu", "addgroup")
                            )
                        end
                    end
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "communitypot"),
                true,
                true,
                true,
                function()
                    RageUI.Separator("Community Pot Balance: ~g~£"..getMoneyStringFormatted(communityPot))
                    RageUI.ButtonWithStyle("Deposit", "", {RightLabel="→→→"}, true, function(e,f,g)
                        if g then
                            CORRUPT.clientPrompt("Enter Amount:","", function(amount)
                                if tonumber(amount) and tonumber(amount) > 0 then
                                    TriggerServerEvent("CORRUPT:tryDepositCommunityPot", amount)
                                else
                                    tvRP.notify("~r~Invalid amount.")
                                end
                            end)
                        end
                    end)
                    RageUI.ButtonWithStyle("Withdraw", "", {RightLabel="→→→"}, true, function(e,f,g)
                        if g then
                            CORRUPT.clientPrompt("Enter Amount:","", function(amount)
                                if tonumber(amount) and tonumber(amount) > 0 then
                                    TriggerServerEvent("CORRUPT:tryWithdrawCommunityPot", amount)
                                else
                                    tvRP.notify("~r~Invalid amount.")
                                end
                            end)
                        end
                    end)
                    RageUI.ButtonWithStyle("Distribute", "", {RightLabel="→→→"}, true, function(e,f,g)
                        if g then
                            CORRUPT.clientPrompt("Enter Amount:","", function(amount)
                                if tonumber(amount) and tonumber(amount) > 0 then
                                    TriggerServerEvent("CORRUPT:trydistributionCommunityPot", amount)
                                else
                                    tvRP.notify("~r~Invalid amount.")
                                end
                            end)
                        end
                    end)
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "addgroup"),
                true,
                true,
                true,
                function()
                    RageUI.ButtonWithStyle(
                        "Add this group to user",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:staffAddGroup", c, n)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "groups")
                    )
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "removegroup"),
                true,
                true,
                true,
                function()
                    RageUI.ButtonWithStyle(
                        "Remove user from group",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:staffRemoveGroup", c, n)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "groups")
                    )
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "playernotesmenu"),
                true,
                true,
                true,
                function()
                    if g == nil then
                        RageUI.Separator("~o~Player notes: Loading...")
                    elseif #g == 0 then
                        RageUI.Separator("~o~There are no player notes to display.")
                    else
                        RageUI.Separator("~o~Player notes:")
                        for a1 = 1, #g do
                            RageUI.Separator("~o~ID: " .. g[a1].id .. " " .. g[a1].note .. " (" .. g[a1].author .. ")")
                        end
                    end
                    RageUI.ButtonWithStyle(
                        "Add To Notes",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                CORRUPT.clientPrompt(
                                    "Add To Notes: ",
                                    "",
                                    function(ab)
                                        if ab ~= "" then
                                            if #g ~= 0 then
                                                g[#g + 1] = {id = #g + 1, note = ab, author = CORRUPT.getUserId()}
                                            else
                                                g = {{id = 1, note = ab, author = CORRUPT.getUserId()}}
                                            end
                                            TriggerServerEvent("CORRUPT:updatePlayerNotes", c, g)
                                        end
                                    end
                                )
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playernotesmenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Remove Note",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                CORRUPT.clientPrompt(
                                    "Type the ID of the note",
                                    "",
                                    function(ab)
                                        if ab ~= "" then
                                            ab = tonumber(ab)
                                            local ac = {}
                                            local ad = false
                                            for a1 = 1, #g do
                                                if g[a1].id == ab then
                                                    for ae = 1, #g do
                                                        if ae ~= a1 then
                                                            ac[#ac + 1] = {
                                                                id = #ac + 1,
                                                                note = g[ae].note,
                                                                author = g[ae].author
                                                            }
                                                        end
                                                    end
                                                    ad = true
                                                    break
                                                end
                                            end
                                            if ad == true then
                                                if #ac == 0 then
                                                    ac = nil
                                                    g = {}
                                                else
                                                    g = ac
                                                end
                                                TriggerServerEvent("CORRUPT:updatePlayerNotes", c, ac)
                                            end
                                        end
                                    end
                                )
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "playernotesmenu")
                    )
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "previewplayernotes"),
                true,
                true,
                true,
                function()
                    if g == nil then
                        RageUI.Separator("~o~Player notes: Loading...")
                    elseif #g == 0 then
                        RageUI.Separator("~o~There are no player notes to display.")
                    else
                        for a1 = 1, #g do
                            RageUI.Separator("~o~ID: " .. g[a1].id .. " " .. g[a1].note .. " (" .. g[a1].author .. ")")
                        end
                    end
                    RageUI.ButtonWithStyle(
                        "~g~Continue To Ban",
                        tostring(e) .. " PermID: " .. tostring(c) .. " TempID: " .. tostring(d),
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "banreasonmenu")
                    )
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "banreasonmenu"),
                true,
                true,
                true,
                function()
                    RageUI.BackspaceMenuCallback(
                        function()
                            q = nil
                        end
                    )
                    if IsControlJustPressed(0, 22) then
                        CORRUPT.clientPrompt(
                            "Search for: ",
                            "",
                            function(ab)
                                if ab ~= "" then
                                    q = string.lower(ab)
                                end
                            end
                        )
                    end
                    for a1 = 1, #r, 1 do
                        local a3 = r[a1]
                        local function af()
                            o[a3.id] = true
                            a3.selected = true
                        end
                        local function ag()
                            o[a3.id] = nil
                            a3.selected = false
                        end
                        if
                            q == nil or string.match(string.lower(r[a1].id), q) or
                                string.match(string.lower(r[a1].name), q)
                         then
                            RageUI.Checkbox(
                                a3.name,
                                a3.desc,
                                a3.selected,
                                {Style = RageUI.CheckboxStyle.Car},
                                function(M, O, N, a5)
                                end,
                                af,
                                ag
                            )
                        end
                    end
                    RageUI.ButtonWithStyle(
                        "Confirm Ban",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:generateBanInfo", c, o)
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "confirmban")
                    )
                end,
                function()
                end
            )
            RageUI.IsVisible(
                RMenu:Get("corruptadminmenu", "confirmban"),
                true,
                true,
                true,
                function()
                    if table.count(p) ~= 0 then
                        RageUI.Separator("~r~You are about to ban " .. p.name)
                        RageUI.Separator("~w~For the following reason(s):")
                        for Q, ah in pairs(p.reasons) do
                            RageUI.Separator(ah)
                        end
                        local ai = nil
                        if p.totalLength == -1 or p.totalLength == 0 or p.totalLength >= 600000 then
                            ai = "Permanent"
                        end
                        RageUI.Separator("~w~Total Length: " .. (ai or p.totalLength .. " hrs"))
                    else
                        RageUI.Separator("~g~Generating ban info, please wait...")
                    end
                    RageUI.ButtonWithStyle(
                        "Cancel",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                o = {}
                                p = {}
                                for a1 = 1, #r, 1 do
                                    local a3 = r[a1]
                                    a3.selected = false
                                end
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "mainmenu")
                    )
                    RageUI.ButtonWithStyle(
                        "Confirm",
                        "",
                        {RightLabel = "→→→"},
                        true,
                        function(M, N, O)
                            if O then
                                TriggerServerEvent("CORRUPT:banPlayer", c, p.banReason, p.totalLength, p.fullBanInfo)
                                o = {}
                                p = {}
                                for a1 = 1, #r, 1 do
                                    local a3 = r[a1]
                                    a3.selected = false
                                end
                            end
                        end,
                        RMenu:Get("corruptadminmenu", "mainmenu")
                    )
                end,
                function()
                end
            )
        end
    end
)
function getSearchField(aj)
    AddTextEntry("FMMC_MPM_NA", "Search by " .. aj)
    DisplayOnscreenKeyboard(1, "FMMC_MPM_NA", "Search by " .. aj, "", "", "", "", 30)
    while UpdateOnscreenKeyboard() == 0 do
        DisableAllControlActions(0)
        Wait(0)
    end
    if GetOnscreenKeyboardResult() then
        local ak = GetOnscreenKeyboardResult()
        if ak then
            return ak
        else
            return ""
        end
    end
    return ""
end
RegisterNetEvent(
    "CORRUPT:setHiddenSpectate",
    function(playerSrc, al)
        w[playerSrc] = al or nil
    end
)
function func_checkSpectatorMode()
    if inSpectatorAdminMode then
        if IsControlJustPressed(0, 51) then
            inSpectatorAdminMode = false
            TriggerServerEvent("CORRUPT:stopSpectatePlayer")
        end
    end
end
CORRUPT.createThreadOnTick(func_checkSpectatorMode)
local am = false
RegisterNetEvent(
    "CORRUPT:freezeClientPlayer",
    function()
        local T = CORRUPT.getPlayerPed()
        if IsPedSittingInAnyVehicle(T) then
            local an = GetVehiclePedIsIn(T, false)
            TaskLeaveVehicle(T, an, 4160)
        end
        if not am then
            FreezeEntityPosition(T, true)
            am = true
            while am do
                CORRUPT.setWeapon(T, "WEAPON_UNARMED", true)
                Wait(0)
            end
        else
            FreezeEntityPosition(T, false)
            am = false
        end
    end
)
RegisterNetEvent(
    "CORRUPT:slapClientPlayer",
    function()
        SetEntityHealth(CORRUPT.getPlayerPed(), 0)
    end
)
RegisterNetEvent(
    "CORRUPT:gotGroups",
    function(as)
        m = as
        if as["pov"] then
            f = true
        else
            f = false
        end
    end
)
RegisterNetEvent(
    "CORRUPT:gotKD",
    function(as)
        kd = as
    end
)

RegisterNetEvent(
    "CORRUPT:gotPlayerNotes",
    function(at)
        at = json.decode(at)
        if at == nil then
            g = {}
        else
            g = at
        end
    end
)
RegisterNetEvent(
    "CORRUPT:sendBanInfo",
    function(a3)
        p = a3
    end
)
RegisterNetEvent("CORRUPT:doJimmy", jimmy)
RegisterNetEvent("CORRUPT:setPosition",function(ay, az, aA, aB)
        if aB then
            local aC, aD = GetGroundZFor_3dCoord(ay, az, aA, 0, false)
            if aC and aD > 0.0 then
                aA = aD
            end
        end
        SetEntityVelocity(PlayerPedId(), 0.0, 0.0, 0.0)
        SetEntityCoords(PlayerPedId(), ay, az, aA, false, false, false, false)
    end)
local aE = 0
local function aF()
    local aG = GetResourceState("screenshot-basic")
    if aG == "started" then
        exports["screenshot-basic"]:requestKeepAlive(
            function(aH)
                if not aH then
                    aE = GetGameTimer()
                end
            end
        )
    end
    if GetGameTimer() - aE > 120000 then
        TriggerServerEvent("CORRUPT:failedKeepAlive")
    end
end
AddEventHandler(
    "CORRUPT:onClientSpawn",
    function(aI, aJ)
        if aJ then
            aE = GetGameTimer()
            while true do
                aF()
                Citizen.Wait(5000)
            end
        end
    end
)
RegisterNetEvent(
    "CORRUPT:returnCriteriaSearch",
    function(aR)
        A = aR
        RageUI.Visible(RMenu:Get("corruptadminmenu", "criteriasearch"), true)
    end
)
RegisterNetEvent(
    "CORRUPT:returnGpuSearch",
    function(aR)
        GPU = aR
        RageUI.Visible(RMenu:Get("corruptadminmenu", "gpusearch"), true)
    end
)
RegisterNetEvent("CORRUPT:gotCommunityPotAmount", function(amount)
    communityPot = amount
end)
RegisterNetEvent(
    "CORRUPT:returnKDSearch",
    function(aR)
        KD = aR
        RageUI.Visible(RMenu:Get("corruptadminmenu", "kdsearch"), true)
    end
)
Citizen.CreateThread(
    function()
        while true do
            if CORRUPT.getStaffLevel() >= 4 and c and RageUI.Visible(RMenu:Get("corruptadminmenu", "playermenu")) then
                TriggerServerEvent("CORRUPT:getVideoRequestQueueCount", c)
            end
            Citizen.Wait(2000)
        end
    end
)
RegisterNetEvent(
    "CORRUPT:setRPZoneAccess",
    function()
        C = true
    end
)

function tvRP.takeClientScreenshotAndUpload(a)
    exports["screenshot-basic"]:requestScreenshotUpload(a,"files[]",function(ab)
        TriggerServerEvent("CORRUPT:mediaProcessed", ab)
    end)
end

function tvRP.takeClientVideoAndUpload(a)
    exports["screenshot-basic"]:requestVideoUpload(a,"files[]",{headers = {}, isVideo = true, isManual = true, encoding = "mp4"},function(ac)
        TriggerServerEvent("CORRUPT:mediaProcessed", ac)
    end, 
    function()
        TriggerServerEvent("CORRUPT:setVideoUploading")
    end)
end

function tvRP.takeClientScreenshotAndUploadAnticheat(a)
    exports["screenshot-basic"]:requestScreenshotUpload(a,"files[]",function(ab)
    end)
end

local isInTicket = false

function CORRUPT.isPlayerInAdminTicket()
    return isInTicket
end

RegisterNetEvent("CORRUPT:sendTicketInfo")
AddEventHandler("CORRUPT:sendTicketInfo", function(playerid, playername, ticketreason, ticketdata)
    if playerid ~= nil and playername ~= nil then
        isInTicket = true
        if not tvRP.isStaffedOn() then
            TriggerEvent("CORRUPT:OMioDioMode", true)
        end
    else
        isInTicket = false
    end
    while isInTicket do
        Wait(0)
        if playerid ~= nil and playername ~= nil then
            drawNativeText("~y~You've taken the ticket of " .. playername .. "(" .. playerid .. ")\n~o~Reason: " .. ticketreason, 255, 0, 0, 255, true)
            if IsControlJustPressed(0, 74) then
                TriggerServerEvent("CORRUPT:promoteTicket", ticketdata)
            end
        end
    end
end)